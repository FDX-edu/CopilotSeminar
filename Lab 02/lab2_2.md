# 변수

이전 랩에서 만든 주제를 향상시키기 시작했습니다. 이전 섹션에서는
엔터티와 슬롯 채우기를 사용하여 사용자의 문장에서 데이터를 자동으로
감지하고 특정 데이터를 변수에 저장했습니다. 이제 질문에서 얻은 데이터를
변수에 사용한 다음 메시지 내에 표시하는 방법을 알아봅니다.

## 작업 1: 변수 유형에 대해 알아보기

변수를 사용하면 최종 사용자의 응답을 저장하여 대화를 안내하는 데 도움이
됩니다(예: 품목의 구매 가격에 따라 반품에 대해 다른 지침을 제공할지 여부
결정). 또한 부조종사의 대화 응답에서 직접 사용할 수 있습니다(예:
\"*{Topic.ProductName}을 반환하는 데 도움을 드릴 수 있습니다*.\").

기본적으로 변수가 생성된 항목에서만 변수 값을 사용할 수 있습니다. 그러나
copilot가 다른 주제에서 동일한 값을 참조하도록 하려면 전역 변수로
만들도록 선택할 수 있습니다(다른 애플리케이션에서 이 개념을 알 수 있음).
기본적으로 대화가 다른 주제로 이동할 때 부조종사는 대화의 이전 주제에서
채워진 변수 값을 기억하고 사용할 수 있습니다. Microsoft Copilot
Studio에서는 Power Fx 수식 및 함수를 사용하여 변수를 설정할 수 있으며,
변수 값 설정 노드를 사용하여 질문 노드 외부에서 변수를 설정할 수
있습니다.

Microsoft Copilot Studio의 다양한 유형의 변수는 다음과 같습니다.

-   **시스템** -- 이러한 변수는 일반적으로 시스템 데이터로 채워집니다.
    시스템 변수는 사용자가 만든 것이 아니며 플랫폼의 일부입니다. 예를
    들어 부조종사에 최종 사용자 인증이 필요한 경우 시스템 변수에는
    사용자 ID, 이메일, 이름 등이 포함될 수 있습니다. 시스템 아래의 변수
    선택에서 작성 캔버스의 시스템 변수에 액세스할 수 있습니다.

-   **주제** -- 이러한 변수는 주제 입력, 변수 값 설정 노드, 질문 노드
    또는 다른 노드 또는 작업(예: 클라우드 흐름, HTTP 요청, 커넥터,
    사용자 지정 프롬프트, 플러그인 작업 등)의 출력으로 사용자가
    만듭니다. 이러한 변수는 기본적으로 범위가 제한되며 생성 중인
    주제에서만 사용할 수 있으며 다른 주제는 사용할 수 없습니다. 다른
    주제에서 값을 수신하고 다른 주제로 값을 리턴할 수 있는 경우 주제
    변수에 대해 이 범위를 확장하기 위해 두 가지 옵션을 사용할 수
    있습니다. 이러한 옵션을 설정하면 주제 변수가 더 이상 주제에서만
    사용되는 것으로 제한되지 않고 다른 주제에서 사용할 수 있습니다. 작성
    캔버스의 Topic 변수는 Custom(사용자 지정) 아래의 변수 선택에서
    액세스할 수 있습니다.

-   **전역** -- 이러한 변수는 사용자가 만들고 모든 주제에서 사용할 수
    있으며, 내에서 트리거되는 주제 수에 관계없이 여러 주제가 대화를 돕기
    위해 사용하는 데이터를 저장하는 좋은 방법입니다. 웹사이트나
    애플리케이션에 부조종사를 내장하는 경우, 컨텍스트 데이터(예: 현재
    페이지, 사용자 언어 등)를 부조종사에 전역 변수로 전달할 수
    있습니다(외부 소스가 값을 설정하도록 구성된 경우). 작성 캔버스의
    Custom(사용자 지정) 아래에 있는 변수 선택에서 전역 변수에 액세스할
    수 있습니다.

Questions(질문), Conditions(조건) 및 Set Variable Value(변수 값 설정)
노드를 포함하여 여러 위치에서 변수를 사용할 수 있습니다. 변수는 Power
Fx를 사용하는 사용자 지정 값, 사용자 입력 값, 질문의 응답 또는 시스템
변수 값일 수 있습니다.

이 첫 번째 연습을 사용하여 변수 값 설정 노드에 익숙해지고 다양한 유형의
변수를 검토할 수 있습니다. 이 작업에는 새 노드를 만들고, 새 변수를
만들고, 변수 이름을 바꾸고, 시스템 수준에서 Microsoft Copilot Studio
내에서 사용할 수 있는 다른 변수를 결정하는 작업이 포함됩니다. 이 작업이
끝나면 이 노드를 삭제합니다.

1.  주제에서 Add node(노드 추가) 버튼을 선택하여 캔버스의 아무 곳에나
    Set variable 노드를 만듭니다. 그런 다음 **변수 관리** \> **변수 값
    설정을** 선택합니다. 이 단계는 변수 옵션을 탐색하기 위한 것이므로
    특정 위치에 변수를 추가하는 것은 중요하지 않습니다. 나중에
    삭제됩니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image14.png)

2.  새 **변수 값 설정** 노드가 만들어집니다. 노드 내의 **Set variable**
    섹션에서 Select a variable **메뉴를** 선택합니다 . 측면에 플라이아웃
    패널이 열립니다. 새로 만들기 단추를 선택합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image15.png)

3.  새 변수가 만들어지고 기본적으로 Var1 (또는 Var2 또는 Var3과 같이 이
    이름으로 변수를 이미 만든 경우 다른 번호)이라고 합니다.\
    \
    변수 이름을 선택하여 화면 오른쪽에 있는 변수 속성 패널을 엽니다.
    여기서 변수 이름을 바꾸고 주제 또는 전역에서 변수 범위를 변경할 수
    있습니다.

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 저장되는 데이터를 기반으로 설명적인 이름으로
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 도움이 되고 다른 제작자에게도 도움이 됩니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image16.png)

4.  변수 속성 패널**의 오른쪽 위에 있는 X를 선택하여** 닫습니다. 변수에
    저장하는 데 사용할 수 있는 데이터를 결정합니다. 작성 캔버스에서 만든
    다른 변수를 사용하거나 시스템 변수 또는 수식을 사용할 수 있습니다.
    변수 값 설정(Set variable value) 노드에서 종료 값(To value) 오른쪽에
    있는 화살표를 선택합니다. 사용자 지정, 시스템, 환경 및 수식이라는
    별도의 제목이 포함된 플라이아웃 패널이 나타납니다(이 랩의 뒷부분에서
    설명하는 Power Fx 사용).\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image17.png)

5.  **시스템** 제목을 선택하여 시스템 변수 목록을 엽니다. 이제 Microsoft
    Copilot Studio에서 사용하는 모든 변수를 볼 수 있습니다. 이러한
    변수에는 Microsoft Copilot Studio가 채우는 데이터가 포함되어 있으며
    사용자 고유의 변수에서 이 데이터를 사용할 수도 있습니다. 기본적으로
    사용할 수 있는 옵션을 알 수 있도록 이러한 옵션을 검토합니다.\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image18.png)

6.  변수 설정 노드 내에서 사용할 수 있는 옵션을 검토했으므로 다음
    스크린샷과 같이 확장된 메뉴 옵션을 선택하고 삭제를 선택하여 이
    노드를 제거할 수 있습니다(다음 실습에서는 사용되지 않음).\
    \
    ![컴퓨터 스크린샷 설명 자동
    생성](./output/lab2.docx/media/image19.png)

7.  작성 캔버스 내의 어느 곳에서나 변수 창을 사용하여 전역 변수를
    포함하여 주제 내의 모든 변수를 검토할 수도 있습니다. 화면 오른쪽
    상단으로 이동하여 변수를 선택하여 이 패널을 봅니다. 주제 내의 모든
    변수, 특히 큰 주제를 검토하는 것이 좋습니다.\
    \
    ![검은색 텍스트가 있는 빨간색 사각형과 사람의 머리가 있는 빨간색
    사각형 설명 자동
    생성](./output/lab2.docx/media/image20.png)

## 작업 2: 전역 변수 사용

이 연습에서는 첫 번째 연습인 주문 상태 확인**의 이전 작업에서 얻은
데이터를 사용하는 방법을 배웁니다**. 이 시점에서 항목의 질문 노드가
엔터티에 연결되어 있어야 합니다.

1.  이전 실습에서 아직 수행하지 않은 경우 *열리는 오른쪽 패널에서* 변수
    이름을 **OrderRequest**로 바꾼 다음, **다음** 스크린샷과 같이 다른
    주제가 액세스할 수 있도록 **범위를 로컬(항목)에서 전역으로
    변경합니다**.\
    \
    ![컴퓨터 화면의 스크린 샷 설명 자동
    생성](./output/lab2.docx/media/image21.png)

2.  이제 메시지의 질문 또는 트리거 구문에서 완료한 변수를 동적 데이터로
    사용합니다. 기존의 Thank you for your question! **을
    선택합니다.메시지** 노드를 열고 텍스트를 \'문제 없음\'으로
    변경합니다. 우리는 당신을 위해 그것을 할 수 있습니다. 지금 살펴보고
    귀하의 정보를 얻겠습니다

3.  2개의 공백 사이에 커서를 놓고 **{x}** 변수 아이콘을 선택한 다음
    최근에 만든 **Global.OrderRequest** 변수를 선택합니다. 이 작업은
    리터럴 단어 대신 변수를 삽입하여 사용자 또는 고객의 질문에서 제공된
    데이터를 기반으로 동적으로 만드는 데 일반적입니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               문제 없어요. 우리는 당신을 위해                        
        윤곽선](./output/lab2.docx/media/image8.svg)를 할 수 있습니다. 지금 살펴보고  
        height="0.3802241907261592in"}                                              귀하의 정보를 얻겠습니다                               
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

> ![컴퓨터 화면의 스크린샷 설명 자동
> 생성](./output/lab2.docx/media/image22.png)

4.  **구해내다**

5.  **테스트** 옵션을 선택하여 Copilot의 동작과 트리거 구문으로 항목을
    트리거하여 변경한 내용을 테스트합니다. 다음 스크린샷은 이 프로세스의
    작동 방식을 보여 줍니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               안타깝게도 주문을 취소해야 하는데, 도와주실 수         
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![채팅 스크린샷 설명 자동
생성](./output/lab2.docx/media/image23.png)

6.  **OrderRequest** 값의 첫 글자는 여전히 대문자로 되어 있습니다. 이
    문법 문제를 해결하려면 변수 값을 직접 참조하는 대신 수식을 사용하여
    단어를 낮추도록 선택할 수 있습니다. 메시지 노드로 돌아가서 초기 변수
    값 {Global.OrderRequest}를 제거하고, 대신 **fx** 단추를 선택하고
    Lower() Power Fx 수식을 사용합니다. 수식 내에서 변수 값을 참조하는
    방법을 확인합니다.

  ---------------------------------------------------------------------------------------------------------------------------------------------
        ![열린 따옴표                                                               하위(Global.OrderRequest)                              
        윤곽선](./output/lab2.docx/media/image8.svg)                                                                                                     
  ----- --------------------------------------------------------------------------- ------------------------------------------------------ ----

  ---------------------------------------------------------------------------------------------------------------------------------------------

![컴퓨터 스크린샷 설명 자동
생성](./output/lab2.docx/media/image24.png)

  -----------------------------------------------------------------------------------------------------------------------------------------------
  ![라이트 온                                                                     **전문가 팁:** 변수 관리 옵션에는 모든 변수 값을 지우는 모든
  아웃라인](./output/lab2.docx/media/image11.svg)                                                 반복하되 새 값을 사용하려는 경우, 특히 이미 값이 있는 경우
                                                                                  질문을 건너뛸 수 있는 질문 동작 속성을 설정한 경우에
                                                                                  유용합니다.
  ------------------------------------------------------------------------------- ---------------------------------------------------------------

  -----------------------------------------------------------------------------------------------------------------------------------------------

**변수는** 다음 작업에서 관찰하겠지만, 특정 방식으로 대화 행동을
유도하기 위해 조건을 수행하거나 확인하려는 데이터 또는 동적 데이터를
저장하는 가장 좋은 방법입니다.

이 작업을 완료하신 것을 축하드립니다. 이제 Microsoft Copilot Studio에서
변수와 다양한 유형을 검토했습니다.

