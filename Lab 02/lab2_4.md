# 주제 노드 사용

Microsoft Copilot Studio를 사용하면 작성자가 에스컬레이션 주제와 같은
다른 주제로 리디렉션할 수 있습니다. 일반적으로 주제는 사용자가 인텐트
일치를 트리거하는 Copilot에 입력하거나 말하는 내용을 기반으로 또는
에스컬레이션, 대화 시작 및 이벤트 기반 트리거가 있는 기타 시스템 주제와
같은 이벤트를 기반으로 트리거되도록 설정됩니다. 또한 사용자는 작성된
대화 내에서 다른 주제를 적절한 위치로 이동시키거나 현재 주제 내에서 다른
노드로 루프를 수행할 수 있습니다.

## 작업 1: 주제 유형 노드에 익숙해지기

이 랩의 이전 연습에서 작업한 항목에서 더하기**(+)** 아이콘을 선택하여 새
노드를 추가한 다음, **항목 관리를** 선택합니다. 다음 스크린샷과 같이
사용 가능한 명령 목록이 표시됩니다.

<img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image31.png">


**주제 관리** 메뉴에서 다음 옵션 중에서 선택할 수 있습니다.

-   **다른 주제로 이동** -- 이 노드에는 선택해야 하는 다른 주제로 이동할
    수 있는 확장된 플라이아웃 메뉴가 있습니다.

    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2001/media/image4.svg" width="30"> **전문가 팁:** 
    
    - 몇 개의 큰 주제보다 여러 개의 작은 주제를 만드는 것이 종종 더 관리하기 쉽습니다. 이 접근 방식을 사용하면 트리거 구문을 해당 영역을 다루는 특정 주제에 명확하게 매핑하여 트리거를 보다 효과적으로 만드는 데 도움이 됩니다.
    - 큰 주제는 유지 관리 및 업데이트하기 어려울 수 있으므로 가능한 경우 조종사 논리를 분해하는 것이 좋습니다. 특히 봇 대화 논리의 일부를 여러 주제에서 공유할 수 있는 경우 더욱 그렇습니다. 이 개념을 재사용 가능한 주제라고 합니다.
    - 주제는 모두 트리거 구문을 가질 필요는 없습니다. 주제는 다른 주제로 리디렉션하고 가변 정보를 앞뒤로 전달할 수 있습니다.

-   **현재 주제 종료** -- 이 옵션을 선택하면 현재 주제가 종료됩니다.
    일반적으로 주제가 다른 주제에서 호출된 경우 이 옵션을 사용합니다.
    원래 호출된 위치로 반환됩니다. 분기 조건에서도 이 옵션을 사용할 수
    있습니다. 분기의 전체 토픽을 종료하기 위해 이 옵션을 선택하면 동작이
    **모든 토픽 종료** 노드와 유사하게 작동합니다.

-   **모든 주제 종료** -- 이 노드는 모든 활성 주제를 종료합니다.
    사용자의 다음 메시지는 새 대화로 간주되며 해당 사용자 메시지를
    기반으로 가장 적합한 주제를 트리거하여 새 활성 주제를 시작합니다.

-   **대화 전송** -- 상담원에게 전송하고 상황에 맞는 메시지를 보내려면
    이 옵션을 선택합니다.

-   **단계로 이동** -- 부조종사 작성자가 열려 있는 주제의 다른 노드로
    이동할 수 있습니다. 이 옵션은 시나리오를 반복하거나 사용자로부터 더
    많은 정보를 수집하려는 경우에 유용합니다.

-   **대화 종료** -- **endOfConverastion** 활동을 보냅니다. 이는
    클라이언트 채팅 위젯(예: 웹사이트에 배포됨)이 채팅 세션이 끝났음을
    확인하는 데 유용할 수 있습니다.

이제 주제 관리 기능의 기본 사항에 익숙해졌으므로 다음 작업을 위해 **다른
주제로 이동** 노드를 사용하는 연습을 할 수 있습니다. **다른 주제로
이동** 노드는 대화 상자에서 사용자가 요청하는 내용에 따라 조건의 다른
주제를 적용하려는 경우에 유용합니다.

## 작업 2: 다른 주제로 이동 노드 사용

이 작업에서는 **다른 주제로 이동** 노드를 사용하는 방법을 학습합니다.

1.  주제에서 마지막 작업을 완료했고 **작성 캔버스에** Condition 노드가
    있는지 확인합니다.

2.  모든 주제가 목록 보기에 표시되는 주제 페이지로 돌아갑니다. Order
    Cancellation(주문 취소)이라는 비어 있는 새 항목을 만듭니다. 이
    항목에는 트리거 구문이 필요하지 않으므로 트리거 유형을 리디렉션으로
    변경합니다. 취소를 승인하는 단일 메시지 노드를 추가한 다음 이 항목을
    저장합니다.

    ```
    Your order has been canceled, thank you.
    ```
    ```
    주문이 취소되었습니다, 감사합니다.
    ```

    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image32.png">

3.  **이 항목** 저장

4.  Condition 분기 **가 있는** Check Order Status**라는 원래 주제로
    돌아갑니다** . 조건이 취소로 설정된 분기 내에서 메시지 노드 **아래에
    새 노드를 만든** 다음, **토픽 관리를** 선택합니다. 그런 다음,
    플라이아웃 메뉴에서 **다른 항목으로 이동**을 선택한 다음, 다음
    스크린샷과 같이 목록에서 **주문 취소** 항목을 찾아 선택합니다
    (이름으로 항목을 검색하거나 항목 목록을 스크롤하여 지정된 항목을
    찾을 수 있음).

    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image33.png">

6.  이전 작업의 세 가지 조건이 표시되어야 합니다. **Cancel** 조건부
    분기에는 다른 주제에 대한 리디렉션이 포함되어야 하며, 이 리디렉션은
    사용자가 만든 새 주제로 리디렉션하여 승인 메시지를 보냅니다. 주제를
    **저장하고** 테스트 **옵션을** 선택하여 동작을 테스트 합니다.

    <img src="https://github.com/FDX-edu/240819_CopilotEdu_test/raw/main/Lab%2002/media/image34.png">
    
축하합니다, 이제 주제 관리 메뉴에서 사용할 수 있는 작업에 익숙해졌습니다

. 계속하기 전에 **주제 관리(Topic management**) 아래의 다른 옵션을 검토하는 것이 유용 하지만 다음 연습으로 이동하는 데 반드시 필요한 것은 아닙니다.

